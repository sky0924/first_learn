# 데이터 타입

태그: 2021년 10월 5일

## Data Types

1. Primitive Type (기본형)
    - Number
    - String
    - Boolean
    - null
    - undefined
    - Symbol (ES6)
2. Reference Type (참조형)
    - Object
        - Array
        - Function
        - RegExp
        - Set / WeakSet (ES6)
        - Map / WeakMap (ES6)

## Primitive Type

- 메모리 할당 과정
    - `let a;`
        
        → 임의의 공간에 이름을 'a'로 지정
            [1003, 이름: a]
        
    - `a = 'abc';`
        
        → 임의의 공간에 'abc' 저장
            [5003, 값: abc]
        
        → 이름이 'a'인 공간을 찾아 'abc'가 저장된 공간의 주소를 값에 저장
            [1003, 이름: a, 값: @5004]
        
    - `a = 'abcdef';`
        
        → 임의의 공간에 'abcdef' 저장
            [5004, 값: abcdef]
        
        → 이름이 'a'인 공간을 찾아 'abcdef'가 저장된 공간의 주소를 값에 저장 (덮어쓰기)
            [1003, 이름: a, 값: @5005]
        
    - 데이터 변경 시 값(주소)이 바로 변경됨
    - 데이터 복사 시 값(주소)을 그대로 복사하여 저장

## Reference Type

- 메모리 할당 과정
    - `let obj;`
    → 임의의 공간에 이름을 'obj'로 지정
        
            [1005, 이름: obj]
        
    - `obj = { a: 1, b: 'bbb' };`
        
        → 임의의 공간을 여러 개 확보
            [5005, 값: @7002 ~ ?]
        
        → property들을 각각의 공간에 저장
        
        → 임의의 공간에 이름을 'a'로 지정
            [7002, 이름: a]
        → 임의의 공간에 '1' 저장
            [5006, 값: 1]
        → 이름이 'a'인 공간을 찾아 '1'이 저장된 공간의 주소를 값에 저장
            [7002, 이름: a, 값: @5006]
        
        → 임의의 공간에 이름을 'b'로 지정
            [7003, 이름: b]
        → 임의의 공간에 'bbb' 저장
            [5007, 값: bbb]
        → 이름이 'b'인 공간을 찾아 'bbb'이 저장된 공간의 주소를 값에 저장
            [7003, 이름: b, 값: @5007]
        
    - 하나의 메모리 공간에는 하나의 데이터만 저장할 수 있음
    - `obj.a = 2;`
        
        → 임의의 공간에 '2' 저장
            [5007, 값: 2]
        
        → 이름이 'a'인 공간을 찾아 '2'가 저장된 공간의 주소를 값에 저장
            [7002, 이름: a, 값: @5007]
        
    - 데이터 변경 시 값이 변경되지 않음
    → 값이 가리키는 property의 값이 변경됨
    - 데이터 복사 시 객체 자체의 주소값이 복사되기 때문에 
    프로퍼티가 변경되어도 가리키는 객체는 같음

### Nested Object

- 메모리 할당 과정
    - `let obj;`
    → 임의의 공간에 이름을 'obj'로 지정
    - `obj = { x: 3, arr: [ 3, 4 ] };`
        
        → 임의의 공간을 여러 개 확보
        
        → property들을 각각의 공간에 저장
        
        → 배열 또한 여러 개의 데이터로 이루어져 있기 때문에
             또 다른 임의의 공간을 확보하여 각각의 공간에 저장
        
    - `obj.arr = 'str';`
        
        → 임의의 공간에 'str' 저장
        
        → 이름이 'arr'인 공간을 찾아 'str'가 저장된 공간의 주소를 값에 저장
        
        → 배열 객체가 저장되어있던 공간은 더 이상 참조되지 않으므로 (참조카운트 === 0)
             Garbage Collecting의 대상이 됨
        

### 데이터 저장 방식

- 값을 직접 저장
    - 메모리 할당 빠름
    - 비용 많이 듦
    - 메모리 낭비
- 값의 주소를 저장
    - 데이터 할당 느림
    - 비교에 비용이 들지 않음
        - 같은 값이 메모리 공간 내에 오직 하나만 존재 → 불변값
    - 메모리 낭비 최소화