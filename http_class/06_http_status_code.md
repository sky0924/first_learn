# HTTP 상태코드

수강날짜: 2021년 9월 14일

## (1) HTTP 상태코드 소개

- 클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능
- 1xx (Informational) : 요청이 수신되어 처리 중 (잘 안씀)
- 2xx (Successful) : 요청 정상 처리
- 3xx (Redirection) : 요청을 완료하려면 추가 행동이 필요
- 4xx (Client Error) : 클라이언트 오류, 잘못된 문법 등으로 서버가 요청을 수행할 수 없음
- 5xx (Server Error) : 서버 오류, 서버가 정상 요청을 처리하지 못함
- 클라이언트가 인식할 수 없는 상태코드 반환 시 → 상위 상태코드로 해석하여 처리

## (2) 2xx - 성공

- 200 OK : 요청 성공
- 201 Created : 새로운 리소스 생성, Location 헤더 필드로 식별
- 202 Accepted : 요청이 접수되었으나 처리가 완료되지 않음 (잘 안씀)
- 204 No Content : 요청을 성공적으로 수행했지만, 응답 본문에 보낼 데이터가 없음

## (3) 3xx - 리다이렉션

1. 영구 리다이렉션
    - 리소스의 URI가 영구적으로 이동
    - 원래의 URI를 사용하지 않음 → 검색 엔진 등에서도 변경 인지
    - 301 Moved Permanently : 요청 메서드는 GET으로, 본문은 제거될 수 있음
    - 308 Permanent Redirect : 요청 메서드와 본문 유지
2. 일시 리다이렉션
    - 리소스의 URI가 일시적으로 변경 → 검색 엔진 등에서 URL를 변경하면 안됨 🤔
    - 302 Found : 요청 메서드는 GET으로, 본문은 제거될 수 있음
    - 303 See Other : 요청 메서드는 GET으로
    - 307 Temporary Redirect : 요청 메서드와 본문 유지
    - 언제 쓸까?
        - Post/Redirect/Get : 주문 후 새로고침으로 인한 중복 주문 방지
        → 주문 후 주문 결과 화면을 GET 메서드로 리다이렉트
        → 새로고침해도 결과 화면을 GET 메서드로 조회
3. 특수 리다이렉션
    - 결과 대신 캐시를 사용
4. 기타 리다이렉션
    - 300 Muliple Choices (안씀)
    - 304 Not Modified
        - 캐시를 목적으로 사용
        - 클라이언트에게 리소스가 수정되지 않았음을 알려줌
        - 응답에 메시지 바디 미포함 (로컬 캐시 사용)
        - 조건부 GET, HEAD 요청 시 사용

## (4) 4xx - 클라이언트 오류

- 400 Bad Request : 잘못된 요청
- 401 Unauthorized : 인증되지 않음
    - 응답에 WWW-Authenticate 헤더와 함께 인증 방법 설명
- 403 Forbidden : 승인 거부 (권한 없음)
- 404 Not Found : 요청 리소스가 서버에 없음 (또는 숨김)
- 오류의 원인이 클라이언트에 있음
- 똑같이 재시도해도 실패

## (5) 5xx - 서버 오류

- 500 Internal Server Error : 서버 내부 문제, 애매할 때
- 503 Service Unavailable : 서비스 이용 불가
    - 일시적인 과부하 또는 예정된 작업이 있음
    - Retry-After 헤더로 얼마 뒤에 복구되는 지 보낼 수 있음
- 오류의 원인이 서버에 있음
- 재시도하면 성공할 수도 있음